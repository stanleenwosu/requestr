<section>
  <div class="row">
    <div class="col-md-6">
      <nb-card>
        <nb-card-header>
          <label class="label">User Information</label>
        </nb-card-header>
        <nb-card-body>

          <div>
            <form [formGroup]="form">
              <div class="row">
                <div class="col-12">
                  <div class="input-group">
                    <label class="label" for="name">Name</label>
                    <input nbInput fullWidth fieldSize="medium" type="text" name="name" class="form-control"
                      formControlName="name" />
                  </div>
                </div>
                <div class="col-12">
                  <div class="input-group">
                    <label class="label" for="email">Email</label>
                    <input disabled="true" nbInput fullWidth fieldSize="medium" type="text" name="email"
                      class="form-control" formControlName="email" />
                  </div>
                </div>
              </div>
            </form>
          </div>
          <ng-container *ngIf="user?.role == userRole.VENDOR">
            <form [formGroup]="vendorForm">
              <div class="row">

                <div class="col-12">
                  <div class="input-group">
                    <label class="label" for="name">Company Name</label>
                    <input nbInput fullWidth fieldSize="medium" type="text" name="name" class="form-control"
                      formControlName="companyName" />
                  </div>
                </div>

                <div class="col-12">
                  <div class="input-group">
                    <label class="label" for="companyAddress">Company Address</label>
                    <input nbInput fullWidth fieldSize="medium" type="text" name="companyAddress" class="form-control"
                      formControlName="companyAddress" />
                  </div>
                </div>

                <div class="col-12">
                  <div class="input-group">
                    <label class="label" for="registrationDate">Date Registered</label>
                    <input nbInput fullWidth fieldSize="medium" type="date" name="registrationDate" class="form-control"
                      formControlName="registrationDate" />
                  </div>
                </div>

                <div class="col-12">
                  <div class="input-group">
                    <label class="label" for="website">Website</label>
                    <input nbInput fullWidth fieldSize="medium" type="text" name="website" class="form-control"
                      formControlName="website" />
                  </div>
                </div>

                <div class="col-12">
                  <div class="input-group">
                    <label class="label" for="repName">Representative Name</label>
                    <input nbInput fullWidth fieldSize="medium" type="text" name="repName" class="form-control"
                      formControlName="repName" />
                  </div>
                </div>
                <div class="col-12">
                  <div class="input-group">
                    <label class="label" for="repPhone">Representative Phone</label>
                    <input nbInput fullWidth fieldSize="medium" type="text" name="repPhone"
                      class="form-control" formControlName="repPhone" />
                  </div>
                </div>

                <div class="px-2 w-100">
                  <div class="mt-3">
                    <label class="label">Upload CAC</label>
                    <div *ngIf="vendor?.cac_url; else noCac">
                      <a [href]="vendor?.cac_url">View</a>
                    </div>
                  <ng-template #noCac>
                    <div class="card my-3 bg-gray">
                      <label class="card-header text-secondary">Upload Files</label>
                      <div class="card-body">
                        <div class="col-12 p-5 text-center add-file">
                          <input #cacfile class="file_upload" id="file" type="file" (change)="uploadCAC(cacfile.files)" />
                          <div *ngIf="!cac_f; else cfileExist">
                            <i class="fa fa-plus-square" aria-hidden="true"></i>
                            <p class="text-secondary">Click to add a file</p>
                          </div>
                          <ng-template #cfileExist>
                            <div class="text-center">
                              <h4 class="text-secondary">{{ cac_f?.name }}</h4>
                              <p class="text-secondary">{{ cac_f?.size / 1024 | number }}kb</p>
                            </div>
                          </ng-template>

                        </div>
                      </div>
                    </div>
                  </ng-template>
                  </div>
                </div>

                <div class="px-2 w-100">
                  <div class="mt-3">
                    <label class="label">Upload Other Document</label>
                    <div *ngIf="vendor?.document_url; else noDoc">
                      <a [href]="vendor?.document_url">View</a>
                    </div>
                    <ng-template #noDoc>
                      <div class="card my-3 bg-gray">
                        <label class="card-header text-secondary">Upload Files</label>
                        <div class="card-body">
                          <div class="col-12 p-5 text-center add-file">
                            <input #atthfile class="file_upload" id="file" type="file" (change)="uploadATTH(atthfile.files)" />
                            <div *ngIf="!atth_f; else afileExist">
                              <i class="fa fa-plus-square" aria-hidden="true"></i>
                              <p class="text-secondary">Click to add a file</p>
                            </div>
                            <ng-template #afileExist>
                              <div class="text-center">
                                <h4 class="text-secondary">{{ atth_f?.name }}</h4>
                                <p class="text-secondary">{{ atth_f?.size / 1024 | number }}kb</p>
                              </div>
                            </ng-template>

                          </div>
                        </div>
                      </div>
                    </ng-template>
                  </div>
                </div>

              </div>
            </form>
          </ng-container>
          <div>
            <div class="mt-3">
              <button type="submit" nbButton fullWidth status="primary"
                (click)="uploadToDB()">
                Update Profile
              </button>
            </div>
          </div>

        </nb-card-body>
      </nb-card>
    </div>
  </div>
</section>
